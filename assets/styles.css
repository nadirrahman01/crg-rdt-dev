/* assets/styles.css
   CRG RDT â€” institutional / old-school sell-side style
   - square edges
   - table-like rhythm
   - tight typography
   - Cordoba gold accents only where needed
*/

:root{
  --gold: #9A690F;
  --gold-dark: #845F0F;

  --paper: #FFFFFF;
  --bg: #F4F4F2;

  --ink: #0B0E14;
  --muted: rgba(11,14,20,.62);

  --line: rgba(11,14,20,.20);
  --line-soft: rgba(11,14,20,.12);

  --font-body: Arial, Helvetica, sans-serif;
  --font-heading: "Times New Roman", Times, serif;

  --focus: rgba(154,105,15,.18);
}

/* ===== reset ===== */
*{ margin:0; padding:0; box-sizing:border-box; }
html, body{ height:100%; }
body{
  font-family: var(--font-body);
  font-size: 14px;
  line-height: 1.45;
  color: var(--ink);
  background: var(--bg);
}

/* ===== app layout ===== */
.app{ min-height:100vh; }
.main{
  display:grid;
  grid-template-columns: 280px 1fr;
  gap: 14px;
  max-width: 1280px;
  margin: 0 auto;
  padding: 12px;
}

/* ===== topbar ===== */
.topbar{
  display:flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;

  background: var(--paper);
  border-bottom: 2px solid var(--line);
  padding: 10px 12px;
}

.brand{
  display:flex;
  flex-direction: column;
  gap: 2px;
}

.brand-line1{
  font-family: var(--font-heading);
  font-weight: 700;
  letter-spacing: .3px;
  font-size: 16px;
}

.brand-line2{
  font-size: 12px;
  color: var(--muted);
}

.topbar-meta{
  display:flex;
  gap: 16px;
  margin-top: 6px;
  flex-wrap: wrap;
}

.meta-item{ font-size: 12px; color: rgba(11,14,20,.72); }
.meta-label{ color: rgba(11,14,20,.60); margin-right: 6px; }

.topbar-right{
  display:flex;
  gap: 8px;
  align-items: center;
}

/* ===== rail ===== */
.rail{
  background: var(--paper);
  border: 1px solid var(--line);
  padding: 10px;
  height: fit-content;
}

.rail-block + .rail-block{
  border-top: 1px solid var(--line-soft);
  margin-top: 10px;
  padding-top: 10px;
}

.rail-title{
  font-family: var(--font-heading);
  font-weight: 700;
  font-size: 14px;
  margin-bottom: 8px;
}

.rail-kpi{
  display:flex;
  justify-content: space-between;
  align-items: baseline;
  font-size: 12px;
  margin-bottom: 6px;
}
.rail-kpi .muted{ color: var(--muted); }

.rail-bar{
  height: 10px;
  background: rgba(11,14,20,.08);
  border: 1px solid var(--line-soft);
}
.rail-bar-fill{
  height: 100%;
  width: 0%;
  background: var(--gold);
}

.rail-mini-title{
  font-weight: 700;
  font-size: 12px;
  margin-bottom: 6px;
  color: rgba(11,14,20,.78);
}

.rail-steps{
  list-style: decimal;
  padding-left: 18px;
  font-size: 12px;
}
.rail-steps li{ margin: 6px 0; }

.rail-link{
  color: rgba(11,14,20,.86);
  text-decoration: none;
  border-bottom: 1px dotted rgba(11,14,20,.30);
}
.rail-link:hover{
  color: var(--gold-dark);
  border-bottom-color: var(--gold-dark);
}

.rail-bullets{
  list-style: square;
  padding-left: 18px;
  font-size: 12px;
  color: rgba(11,14,20,.80);
}
.rail-bullets li{ margin: 6px 0; }

.rail-help{
  font-size: 12px;
  color: rgba(11,14,20,.70);
}

/* ===== canvas / cards ===== */
.canvas{ min-width: 0; }

.card{
  background: var(--paper);
  border: 1px solid var(--line);
  padding: 12px;
  margin-bottom: 14px;
}

.card-head{
  display:flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 10px;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--line-soft);
  margin-bottom: 10px;
}

.card-title{
  font-family: var(--font-heading);
  font-weight: 700;
  font-size: 16px;
}

.card-subtitle{
  margin-top: 4px;
  font-size: 12px;
  color: var(--muted);
}

.card-subhead{
  font-family: var(--font-heading);
  font-weight: 700;
  font-size: 13px;
  margin: 10px 0 8px 0;
  padding-top: 10px;
  border-top: 1px solid var(--line-soft);
}

/* ===== form grid ===== */
.grid-2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px 12px;
}

.grid-1{
  display:grid;
  grid-template-columns: 1fr;
  gap: 8px;
}

/* ===== labels, hints, and metrics ===== */
label{
  display:block;
  font-size: 12px;
  font-weight: 700;
  letter-spacing: .2px;
  margin-top: 2px;
}

.muted{ color: var(--muted); font-weight: 400; }

.hint{
  font-size: 11px;
  color: rgba(11,14,20,.62);
  margin-top: -4px;
  margin-bottom: 6px;
}

.field-head{
  display:flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 10px;
}

.field-metrics{
  font-size: 11px;
  color: rgba(11,14,20,.60);
}

/* ===== inputs (institutional / squared) ===== */
input[type="text"],
textarea,
select{
  width: 100%;
  border: 1px solid var(--line);
  background: #fff;
  color: var(--ink);
  padding: 8px 9px;
  font-family: var(--font-body);
  font-size: 14px;
  outline: none;
}

textarea{ resize: vertical; }

select{
  appearance: none;
  background-image:
    linear-gradient(45deg, transparent 50%, rgba(11,14,20,.55) 50%),
    linear-gradient(135deg, rgba(11,14,20,.55) 50%, transparent 50%);
  background-position:
    calc(100% - 18px) 50%,
    calc(100% - 13px) 50%;
  background-size: 6px 6px, 6px 6px;
  background-repeat: no-repeat;
  padding-right: 34px;
}

input[type="text"]:focus,
textarea:focus,
select:focus{
  border-color: var(--gold-dark);
  box-shadow: 0 0 0 3px var(--focus);
}

/* ===== file inputs ===== */
input[type="file"]{
  width: 100%;
  border: 1px dashed rgba(11,14,20,.35);
  padding: 10px 10px;
  background: #fff;
  font-size: 12px;
}
input[type="file"]::file-selector-button{
  border: 1px solid var(--line);
  background: #EFEFEA;
  padding: 6px 10px;
  margin-right: 10px;
  cursor: pointer;
  font-weight: 700;
}

/* ===== phone row ===== */
.phone-row{
  display:flex;
  gap: 8px;
  align-items: stretch;
}
.phone-country{
  width: 90px;
}
.phone-number{
  flex: 1;
}

/* ===== coauthors ===== */
.coauthor-head{
  display:flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  margin-bottom: 6px;
}
.coauthor-title{
  font-family: var(--font-heading);
  font-weight: 700;
}
#coAuthorsList{ display:flex; flex-direction: column; gap: 8px; }

.coauthor-entry{
  display:grid;
  grid-template-columns: 1fr 1fr 1.3fr auto;
  gap: 8px;
  border: 1px solid var(--line-soft);
  padding: 8px;
  background: #FBFBF8;
}

.coauthor-entry .remove-coauthor{
  border: 1px solid rgba(239,68,68,.35);
  background: rgba(239,68,68,.08);
  padding: 8px 10px;
  cursor: pointer;
  font-weight: 700;
  font-size: 12px;
}
.coauthor-entry .remove-coauthor:hover{ background: rgba(239,68,68,.12); }

/* ===== toggles ===== */
.toggle-row{
  display:flex;
  align-items: center;
  gap: 8px;
  padding: 6px 0;
}
.toggle-label{
  font-weight: 700;
  font-size: 12px;
  cursor: pointer;
}

/* ===== chart panel ===== */
.chart-panel{
  border: 1px solid var(--line-soft);
  background: #FBFBF8;
  padding: 10px;
}

.chart-row{
  display:flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  margin-bottom: 6px;
}

.chart-controls{
  display:flex;
  align-items: center;
  gap: 8px;
}

.inline-label{
  font-size: 12px;
  font-weight: 700;
}
.inline-select{
  width: auto;
}

.chart-wrap{
  border: 1px solid var(--line-soft);
  background: #fff;
  padding: 8px;
  margin: 8px 0 10px 0;
}

/* Chart canvas sizing */
#priceChart{
  width: 100% !important;
  height: 170px !important;
}

/* ===== metrics ===== */
.metrics-grid{
  display:grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 8px;
  margin-top: 8px;
}
.metric{
  border: 1px solid var(--line-soft);
  padding: 8px;
  background: #fff;
}
.metric-label{
  font-size: 11px;
  color: rgba(11,14,20,.60);
  font-weight: 700;
  letter-spacing: .2px;
}
.metric-value{
  margin-top: 4px;
  font-size: 14px;
  font-weight: 700;
}

/* ===== attachment strip ===== */
.attach-strip{
  border: 1px solid var(--line-soft);
  padding: 8px;
  background: #fff;
}
#attachmentSummaryHead{
  font-size: 12px;
  font-weight: 700;
  color: rgba(11,14,20,.80);
}
#attachmentSummaryList{
  margin-top: 8px;
  border-top: 1px solid var(--line-soft);
  padding-top: 6px;
  max-height: 92px;
  overflow: auto;
}
#attachmentSummaryList div{
  font-size: 12px;
  padding: 4px 0;
  border-bottom: 1px dotted rgba(11,14,20,.18);
}
#attachmentSummaryList div:last-child{ border-bottom: 0; }

/* ===== review section ===== */
.review-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.review-block{
  border: 1px solid var(--line-soft);
  background: #FBFBF8;
  padding: 10px;
}

.review-title{
  font-family: var(--font-heading);
  font-weight: 700;
  margin-bottom: 8px;
}

.review-list{
  list-style: square;
  padding-left: 18px;
  font-size: 12px;
  color: rgba(11,14,20,.80);
}
.review-list li{ margin: 6px 0; }

.checkline{
  display:flex;
  gap: 10px;
  align-items: flex-start;
}
.checkline input{ margin-top: 3px; }

/* ===== buttons ===== */
.btn{
  border: 1px solid var(--line);
  background: #EFEFEA;
  color: rgba(11,14,20,.88);
  padding: 8px 10px;
  font-weight: 700;
  font-size: 12px;
  cursor: pointer;
  text-transform: uppercase;
  letter-spacing: .6px;
}
.btn:hover{ background: #E7E7E0; }

.btn-quiet{
  text-transform: none;
  letter-spacing: 0;
  font-weight: 700;
  font-size: 12px;
  padding: 7px 9px;
}

.btn-primary{
  background: var(--gold);
  border-color: var(--gold-dark);
  color: #fff;
}
.btn-primary:hover{ background: var(--gold-dark); }

.actions{
  display:flex;
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid var(--line-soft);
}

/* ===== message ===== */
.message{
  margin-top: 10px;
  padding: 10px;
  border: 1px solid var(--line);
  display:none;
  font-size: 12px;
}
.message.success{
  display:block;
  border-color: rgba(16,185,129,.35);
  background: rgba(16,185,129,.08);
}
.message.error{
  display:block;
  border-color: rgba(239,68,68,.35);
  background: rgba(239,68,68,.08);
}

/* ===== footer line ===== */
.footerline{
  margin-top: 10px;
  padding-top: 8px;
  border-top: 1px solid var(--line-soft);
  display:flex;
  justify-content: space-between;
  font-size: 11px;
  color: rgba(11,14,20,.62);
}

/* ===== responsiveness ===== */
@media (max-width: 1020px){
  .main{ grid-template-columns: 1fr; }
  .rail{ order: 2; }
}

@media (max-width: 820px){
  .grid-2{ grid-template-columns: 1fr; }
  .metrics-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .review-grid{ grid-template-columns: 1fr; }
  .actions{ flex-direction: column; align-items: stretch; }
  .actions .btn{ width: 100%; }
  .topbar{ flex-direction: column; align-items: stretch; }
  .topbar-right{ justify-content: flex-end; }
}

@media (max-width: 520px){
  .topbar-meta{ gap: 10px; }
  .coauthor-entry{ grid-template-columns: 1fr; }
  .phone-row{ flex-direction: column; }
  .phone-country{ width: 100%; }
}
